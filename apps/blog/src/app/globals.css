@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem
  }
  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%
  }
  .tokyonight {
    --background: 230 15% 13%;
    --foreground: 225 70% 90%;
    --card: 230 23% 17%;
    --card-foreground: 225 70% 90%;
    --popover: 230 23% 17%;
    --popover-foreground: 225 70% 90%;
    --primary: 193 100% 74%;
    --primary-foreground: 230 15% 13%;
    --secondary: 230 23% 20%;
    --secondary-foreground: 225 70% 90%;
    --muted: 228 20% 25%;
    --muted-foreground: 225 30% 70%;
    --accent: 267 84% 81%;
    --accent-foreground: 230 15% 13%;
    --destructive: 351 91% 71%;
    --destructive-foreground: 225 70% 90%;
    --border: 228 20% 30%;
    --input: 228 20% 30%;
    --ring: 193 100% 74%;
    --chart-1: 193 100% 74%;
    --chart-2: 267 84% 81%;
    --chart-3: 95 54% 52%;
    --chart-4: 29 100% 77%;
    --chart-5: 351 91% 71%
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Tokyo Night component colors */
.tokyonight {
  /* Override stone colors used in components */
  --stone-100: hsl(225 70% 90%);
  --stone-200: hsl(228 20% 30%);
  --stone-400: hsl(225 30% 60%);
  --stone-500: hsl(225 30% 55%);
  --stone-600: hsl(225 30% 65%);
  --stone-700: hsl(228 20% 30%);
  --stone-800: hsl(230 23% 20%);
  --stone-900: hsl(225 70% 90%);
}

/* Tokyo Night specific overrides */
.tokyonight .text-stone-900 {
  color: hsl(225 70% 90%);
}
.tokyonight .text-stone-600,
.tokyonight .text-stone-500,
.tokyonight .text-stone-400,
.tokyonight .text-stone-300 {
  color: hsl(225 30% 70%);
}
.tokyonight .border-stone-200,
.tokyonight .border-stone-700,
.tokyonight .border-stone-300,
.tokyonight .border-stone-600 {
  border-color: hsl(228 20% 30%);
}
.tokyonight .hover\:bg-stone-50:hover,
.tokyonight .hover\:bg-stone-100:hover {
  background-color: hsl(230 23% 20%);
}
.tokyonight .bg-stone-800,
.tokyonight .bg-stone-700 {
  background-color: hsl(230 23% 20%);
}
.tokyonight .bg-stone-200 {
  background-color: hsl(230 23% 25%);
}
.tokyonight .hover\:bg-stone-300:hover,
.tokyonight .hover\:bg-stone-600:hover {
  background-color: hsl(230 23% 30%);
}

/* Tokyo Night search input */
.tokyonight input.bg-white,
.tokyonight .bg-white {
  background-color: hsl(230 23% 17%);
}
.tokyonight input {
  color: hsl(225 70% 90%);
}
.tokyonight input::placeholder {
  color: hsl(225 20% 50%);
}

/* Tokyo Night code blocks */
.tokyonight .shiki-wrapper,
.tokyonight pre.shiki {
  background-color: hsl(230 23% 12%) !important;
}
.tokyonight .group .bg-stone-100 {
  background-color: hsl(230 23% 17%);
}
.tokyonight [class*="line"]:hover {
  background-color: hsl(230 23% 18%) !important;
}

/* Tokyo Night Mermaid diagrams */
.tokyonight .mermaid {
  background-color: hsl(230 23% 15%);
  border-radius: 0.5rem;
  padding: 1rem;
}
.tokyonight .mermaid text,
.tokyonight .mermaid .messageText,
.tokyonight .mermaid .labelText,
.tokyonight .mermaid .loopText,
.tokyonight .mermaid .noteText {
  fill: hsl(225 70% 90%) !important;
}
.tokyonight .mermaid .node rect,
.tokyonight .mermaid .node circle,
.tokyonight .mermaid .node ellipse,
.tokyonight .mermaid .node polygon {
  fill: hsl(230 23% 22%) !important;
  stroke: hsl(193 100% 74%) !important;
}
.tokyonight .mermaid .edgePath .path,
.tokyonight .mermaid .flowchart-link,
.tokyonight .mermaid path.path {
  stroke: hsl(193 80% 65%) !important;
  stroke-width: 2px !important;
}
.tokyonight .mermaid .arrowheadPath,
.tokyonight .mermaid marker path {
  fill: hsl(193 80% 65%) !important;
  stroke: hsl(193 80% 65%) !important;
}
.tokyonight .mermaid .edgeLabel {
  background-color: hsl(230 23% 15%) !important;
  color: hsl(225 70% 90%) !important;
}
.tokyonight .mermaid .edgeLabel rect {
  fill: hsl(230 23% 15%) !important;
  opacity: 1 !important;
}
.tokyonight .mermaid .edgeLabel span {
  color: hsl(225 70% 90%) !important;
}
.tokyonight .mermaid .cluster rect {
  fill: hsl(230 23% 18%) !important;
  stroke: hsl(228 20% 35%) !important;
}
/* Sequence diagram */
.tokyonight .mermaid line {
  stroke: hsl(193 90% 70%) !important;
  stroke-width: 2px !important;
}
.tokyonight .mermaid .messageLine0,
.tokyonight .mermaid .messageLine1,
.tokyonight .mermaid [class*="messageLine"] {
  stroke: hsl(193 90% 70%) !important;
  stroke-width: 2px !important;
}
.tokyonight .mermaid .actor-line {
  stroke: hsl(193 70% 60%) !important;
  stroke-width: 1.5px !important;
}
.tokyonight .mermaid .actor {
  fill: hsl(230 23% 22%) !important;
  stroke: hsl(193 100% 74%) !important;
}
.tokyonight .mermaid .messageText,
.tokyonight .mermaid tspan,
.tokyonight .mermaid text.messageText {
  fill: hsl(225 90% 95%) !important;
  font-weight: 500 !important;
}
.tokyonight .mermaid .sequenceNumber {
  fill: hsl(230 23% 15%) !important;
}
.tokyonight .mermaid .activation0,
.tokyonight .mermaid .activation1,
.tokyonight .mermaid .activation2 {
  fill: hsl(230 23% 28%) !important;
  stroke: hsl(193 80% 65%) !important;
}
/* Force all mermaid text to be bright */
.tokyonight .mermaid text:not(.sequenceNumber),
.tokyonight .mermaid .label text,
.tokyonight .mermaid .edgeLabel text,
.tokyonight .mermaid foreignObject div {
  fill: hsl(225 90% 95%) !important;
  color: hsl(225 90% 95%) !important;
}
/* Force all mermaid lines/paths to be visible */
.tokyonight .mermaid path:not(.arrowheadPath),
.tokyonight .mermaid .relation {
  stroke: hsl(193 90% 70%) !important;
}

/* Tokyo Night prose colors */
.tokyonight .prose {
  --tw-prose-body: hsl(225 70% 90%);
  --tw-prose-headings: hsl(225 70% 95%);
  --tw-prose-lead: hsl(225 50% 80%);
  --tw-prose-links: hsl(193 100% 74%);
  --tw-prose-bold: hsl(225 70% 95%);
  --tw-prose-counters: hsl(225 50% 70%);
  --tw-prose-bullets: hsl(225 30% 50%);
  --tw-prose-hr: hsl(228 20% 30%);
  --tw-prose-quotes: hsl(225 70% 90%);
  --tw-prose-quote-borders: hsl(228 20% 30%);
  --tw-prose-captions: hsl(225 50% 70%);
  --tw-prose-code: hsl(225 70% 95%);
  --tw-prose-pre-code: hsl(225 70% 90%);
  --tw-prose-pre-bg: hsl(230 23% 15%);
  --tw-prose-th-borders: hsl(228 20% 35%);
  --tw-prose-td-borders: hsl(228 20% 30%);
}

/* Override prose */
.prose pre {
  background-color: #0c0c0c9b;
  border-radius: 0.5rem !important;
}

/* Override prose styles for code blocks - must be outside @layer to override Tailwind prose */
.prose .shiki-wrapper pre,
.prose pre.shiki {
  margin: 0 !important;
  padding: 1rem !important;
}

/* Remove prose margins from code block wrapper */
.prose .group.relative.my-4 {
  margin-top: -0.6rem !important;
  margin-bottom: -0.65rem !important;
  margin-left: -0.85rem !important;
  margin-right: -0.9rem !important;
}

/* Mermaid diagram styling for code blocks */
div:has(svg[id^="mermaid"]) {
  margin: -0.65rem -0.8rem !important;
}
